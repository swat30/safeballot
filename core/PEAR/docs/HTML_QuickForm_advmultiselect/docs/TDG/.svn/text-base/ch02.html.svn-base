<?xml version="1.0" encoding="iso-8859-1"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>
      Chapter&nbsp;2.&nbsp;FAQ - Frequently Asked Questions
    </title>
    <link rel="stylesheet" href="book.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.69.1" />
    <link rel="start" href="index.html" title=
    "HTML_QuickForm_advmultiselect Manual" />
    <link rel="up" href="pt01.html" title="Part&nbsp;I.&nbsp;Introduction" />
    <link rel="prev" href="ch01s03.html" title=
    "Why use HTML_QuickForm_advmultiselect ?" />
    <link rel="next" href="ch03.html" title=
    "Chapter&nbsp;3.&nbsp;What's New ?" />
<style type="text/css">
/*<![CDATA[*/
 body {
  background-color: white;
  color: black;
 }
 :link { color: #0000FF }
 :visited { color: #840084 }
 :active { color: #0000FF }
 div.c3 {font-family: monospace;}
 div.c2 {margin-left: 0.5in; margin-right: 0.5in;}
 col.c1 {text-align: left}
/*]]>*/
</style>
  </head>
  <body>
    <table class="qfamsHeader">
      <tr>
        <td>
          <img src="img/pearsmall.gif" align="left" alt="PEAR logo" />
          <h1>
            HTML_QuickForm_advmultiselect : The Definitive Guide
          </h1>
          <div class="navheader">
            <table width="100%" summary="Navigation header">
              <tr>
                <th colspan="3" align="center">
                  Chapter&nbsp;2.&nbsp;FAQ - Frequently Asked Questions
                </th>
              </tr>
              <tr>
                <td width="20%" align="left">
                  <a accesskey="p" href="ch01s03.html">Prev</a>&nbsp;
                </td>
                <th width="60%" align="center">
                  Part&nbsp;I.&nbsp;Introduction
                </th>
                <td width="20%" align="right">
                  &nbsp;<a accesskey="n" href="ch03.html">Next</a>
                </td>
              </tr>
            </table>
          </div><br />
          <br />
        </td>
      </tr>
    </table>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <h2 class="title">
          <a name="faq" id="faq"></a>Chapter&nbsp;2.&nbsp;FAQ - Frequently
          Asked Questions
        </h2>
      </div>
      <div class="qandaset">
        <dl>
          <dt>
            2.1. <a href="ch02.html#id4733506">General questions</a>
          </dt>
          <dd>
            <dl>
              <dt>
                2.1.1. <a href="ch02.html#id4733510">What does it cost ?</a>
              </dt>
              <dt>
                2.1.2. <a href="ch02.html#id4733457">Do you offer support ?</a>
              </dt>
              <dt>
                2.1.3. <a href="ch02.html#id4733416">I found a bug, what shall
                i do ?</a>
              </dt>
              <dt>
                2.1.4. <a href="ch02.html#id4733442">What is HTML_QuickForm
                ?</a>
              </dt>
              <dt>
                2.1.5. <a href="ch02.html#id4780987">What is PEAR ?</a>
              </dt>
            </dl>
          </dd>
          <dt>
            2.2. <a href="ch02.html#id4781049">How to</a>
          </dt>
          <dd>
            <dl>
              <dt>
                2.2.1. <a href="ch02.html#id4781054">May i use
                HTML_QuickForm_advmultiselect if my browser is no javascript
                compliant or if javascript is disabled ?</a>
              </dt>
              <dt>
                2.2.2. <a href="ch02.html#id4781085">How to validate a
                HTML_QuickForm_advmultiselect element ?</a>
              </dt>
              <dt>
                2.2.3. <a href="ch02.html#id4781128">How to optimize javascript
                code usage on html generated page ?</a>
              </dt>
            </dl>
          </dd>
          <dt>
            2.3. <a href="ch02.html#id4781234">Troubleshooting guide</a>
          </dt>
          <dd>
            <dl>
              <dt>
                2.3.1. <a href="ch02.html#id4781239">My Quickform
                advmultiselect element is not displayed on my browser
                window.</a>
              </dt>
              <dt>
                2.3.2. <a href="ch02.html#id4781300">My live counter is not
                updated with a single select list, when I click on checkboxes
                ?</a>
              </dt>
              <dt>
                2.3.3. <a href="ch02.html#id4781349">The selected list has one
                blank entry that you can move to available list</a>
              </dt>
            </dl>
          </dd>
        </dl>
        <table border="0" summary="Q and A Set">
          <col class="c1" width="1%" />
          <tbody>
            <tr class="qandadiv">
              <td align="left" valign="top" colspan="2">
                <h3 class="title">
                  <a name="id4733506" id="id4733506"></a>2.1. General questions
                </h3>
              </td>
            </tr>
            <tr class="toc">
              <td align="left" valign="top" colspan="2">
                <dl>
                  <dt>
                    2.1.1. <a href="ch02.html#id4733510">What does it cost
                    ?</a>
                  </dt>
                  <dt>
                    2.1.2. <a href="ch02.html#id4733457">Do you offer support
                    ?</a>
                  </dt>
                  <dt>
                    2.1.3. <a href="ch02.html#id4733416">I found a bug, what
                    shall i do ?</a>
                  </dt>
                  <dt>
                    2.1.4. <a href="ch02.html#id4733442">What is HTML_QuickForm
                    ?</a>
                  </dt>
                  <dt>
                    2.1.5. <a href="ch02.html#id4780987">What is PEAR ?</a>
                  </dt>
                </dl>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4733510" id="id4733510"></a><a name="id4733512" id=
                "id4733512"></a><b>2.1.1.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  What does it cost ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  You can download and use it for free. But don't delete the
                  copyright notice. You can read terms of the <a class=
                  "external" href=
                  "http://www.laurent-laville.org/index.php?mod=pear&amp;des=qfams&amp;act=license"
                  title=
                  "http://www.laurent-laville.org/index.php?mod=pear&amp;des=qfams&amp;act=license">
                  license</a>
                </p>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4733457" id="id4733457"></a><a name="id4733466" id=
                "id4733466"></a><b>2.1.2.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  Do you offer support ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  YES if there is no answer in this Guide and if you are ready
                  to share some informations such as : your configuration
                  (platform Win *nix mac, PHP version, PEAR packages installed)
                  and perharps your script.
                </p>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4733416" id="id4733416"></a><a name="id4733418" id=
                "id4733418"></a><b>2.1.3.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  I found a bug, what shall i do ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  You can report it with the bug tracker at <a class="external"
                  href=
                  "http://pear.php.net/package/HTML_QuickForm_advmultiselect/bugs"
                  title=
                  "http://pear.php.net/package/HTML_QuickForm_advmultiselect/bugs">
                  PEAR</a>.
                </p>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4733442" id="id4733442"></a><a name="id4733444" id=
                "id4733444"></a><b>2.1.4.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  What is HTML_QuickForm ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  <span class="bold"><strong>HTML_QuickForm</strong></span> is
                  a PEAR package that provides methods for creating, validating
                  and processing HTML forms.
                </p>
                <p>
                  The purpose of <a class="external" href=
                  "http://www.thelinuxconsultancy.co.uk/quickform.php" title=
                  "http://www.thelinuxconsultancy.co.uk/quickform.php">Keith
                  Edmunds</a> tutorial is to give the new users of QuickForm an
                  overview of its features and usage patterns. It describes a
                  small subset of available functionality.
                </p>
                <p>
                  Don't forget to read also the PEAR Manual, <a class=
                  "external" href=
                  "http://pear.php.net/manual/en/package.html.html-quickform.php"
                  title=
                  "http://pear.php.net/manual/en/package.html.html-quickform.php">
                  HTML_QuickForm</a> related part.
                </p>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4780987" id="id4780987"></a><a name="id4780989" id=
                "id4780989"></a><b>2.1.5.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  What is PEAR ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  PEAR (an acronym for <span class=
                  "bold"><strong>P</strong></span>HP <span class=
                  "bold"><strong>E</strong></span>xtension and <span class=
                  "bold"><strong>A</strong></span>pplication <span class=
                  "bold"><strong>R</strong></span>epository) is a framework and
                  distribution system for reusable PHP components.
                </p>
                <p>
                  Don't forget to read also the <a class="external" href=
                  "http://pear.php.net/manual/en" title=
                  "http://pear.php.net/manual/en">PEAR Manual</a> and <a class=
                  "external" href="http://pear.php.net/manual/en/faq.php"
                  title="http://pear.php.net/manual/en/faq.php">PEAR FAQ</a>.
                </p>
              </td>
            </tr>
            <tr class="qandadiv">
              <td align="left" valign="top" colspan="2">
                <h3 class="title">
                  <a name="id4781049" id="id4781049"></a>2.2. How to
                </h3>
              </td>
            </tr>
            <tr class="toc">
              <td align="left" valign="top" colspan="2">
                <dl>
                  <dt>
                    2.2.1. <a href="ch02.html#id4781054">May i use
                    HTML_QuickForm_advmultiselect if my browser is no
                    javascript compliant or if javascript is disabled ?</a>
                  </dt>
                  <dt>
                    2.2.2. <a href="ch02.html#id4781085">How to validate a
                    HTML_QuickForm_advmultiselect element ?</a>
                  </dt>
                  <dt>
                    2.2.3. <a href="ch02.html#id4781128">How to optimize
                    javascript code usage on html generated page ?</a>
                  </dt>
                </dl>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4781054" id="id4781054"></a><a name="id4781056" id=
                "id4781056"></a><b>2.2.1.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  May i use HTML_QuickForm_advmultiselect if my browser is no
                  javascript compliant or if javascript is disabled ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  The dual multi-select won't work, but you can display a
                  single multi select box witch checkboxes. To do so, you have
                  to remove <span class=
                  "bold"><strong>{unselected}</strong></span> placeholder in
                  the advmultiselect template element.
                </p>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4781085" id="id4781085"></a><a name="id4781087" id=
                "id4781087"></a><b>2.2.2.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  How to validate a HTML_QuickForm_advmultiselect element ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  You must use the HTML_QuickForm <a class="external" href=
                  "http://pear.php.net/manual/en/package.html.html-quickform.html-quickform.addgrouprule.php"
                  title=
                  "http://pear.php.net/manual/en/package.html.html-quickform.html-quickform.addgrouprule.php">
                  addGroupRule()</a> method rather than HTML_QuickForm
                  <a class="external" href=
                  "http://pear.php.net/manual/en/package.html.html-quickform.html-quickform.addrule.php"
                  title=
                  "http://pear.php.net/manual/en/package.html.html-quickform.html-quickform.addrule.php">
                  addRule()</a> method. See <a href=
                  "ch09s06.html#examples.template.1" title="">Template
                  usage</a> example.
                </p>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4781128" id="id4781128"></a><a name="id4781130" id=
                "id4781130"></a><b>2.2.3.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  How to optimize javascript code usage on html generated page
                  ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <div class="caution c2">
                  <table border="0" summary="Caution">
                    <tr>
                      <td rowspan="2" align="center" valign="top" width="48">
                        <img alt="[Caution]" src="img/admons/caution.png" />
                      </td>
                      <th align="left">
                        Caution
                      </th>
                    </tr>
                    <tr>
                      <td align="left" valign="top">
                        Following answers can be applied only for
                        HTML_QuickForm_advmultiselect version 1.3.0 or better.
                      </td>
                    </tr>
                  </table>
                </div>
                <p>
                  Use only once reference of javascript source code. If you
                  have more than one advmultiselect element on your html page,
                  then keep only one call and remove others.
                </p>
                <div class="php c3">
                  <ol>
                    <li class="li1">
                      <div class="de1">
                        &lt;script type=<span class=
                        "st0">"text/javascript"</span>&gt;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">&lt;?php</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw3">echo</span> <span class=
                        "re0">$ams1</span>-&gt;<span class=
                        "me1">getElementJs</span><span class=
                        "br0">(</span><span class="br0">)</span>;&nbsp; &nbsp;
                        <span class="co1">// keep one</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        &nbsp;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="co1">//echo
                        $ams2-&gt;getElementJs();&nbsp; // remove others</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">?&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">&lt;/script&gt;</span>
                      </div>
                    </li>
                  </ol>
                </div>
                <p>
                  Better solution is to use link to external resource and then
                  reduce amount of javascript source code embedded. Add line of
                  code below between &lt;head&gt; tags of your generated page.
                </p>
                <pre class="html4strict">
      
&lt;script type="text/javascript" src="qfamsHandler.js"&gt;&lt;/script&gt;
      
     
</pre>
                <div class="note c2">
                  <table border="0" summary="Note">
                    <tr>
                      <td rowspan="2" align="center" valign="top" width="48">
                        <img alt="[Note]" src="img/admons/note.png" />
                      </td>
                      <th align="left">
                        Note
                      </th>
                    </tr>
                    <tr>
                      <td align="left" valign="top">
                        Fix path to javascript resource if necessary.
                        <code class="filename">qfamsHandler.js</code> file can
                        be found in PEAR/data/HTML_QuickForm_advmultiselect
                        directory.
                      </td>
                    </tr>
                  </table>
                </div>
                <p>
                  At least remove <code class="literal">{javascript}</code>
                  placeholder if you use default template. You have to set this
                  new one <code class="literal">$deftpl</code>, with code
                  something like :
                </p>
                <div class="php c3">
                  <ol>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">&lt;?php</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw1">require_once</span> <span class=
                        "st0">'HTML/QuickForm.php'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw1">require_once</span> <span class=
                        "st0">'HTML/QuickForm/advmultiselect.php'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$form</span> = <span class=
                        "kw2">new</span> HTML_QuickForm<span class=
                        "br0">(</span><span class=
                        "st0">'ams130'</span><span class="br0">)</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="co1">// ....</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$ams</span> =&amp; <span class=
                        "re0">$form</span>-&gt;<span class=
                        "me1">addElement</span><span class=
                        "br0">(</span><span class=
                        "st0">'advmultiselect'</span>, <span class=
                        "st0">'cars'</span>, <span class="kw2">null</span>,
                        <span class="re0">$car_array</span><span class=
                        "br0">)</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$deftpl</span> = <span class=
                        "st0">'</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">&lt;table{class}&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">&lt;!-- BEGIN label_2
                        --&gt;&lt;tr&gt;&lt;th&gt;{label_2}&lt;/th&gt;&lt;!--
                        END label_2 --&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">&lt;!-- BEGIN label_3
                        --&gt;&lt;th&gt;&amp;nbsp;&lt;/th&gt;&lt;th&gt;{label_3}&lt;/th&gt;&lt;/tr&gt;&lt;!--
                        END label_3 --&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">&lt;tr&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">  &lt;td
                        valign="top"&gt;{unselected}&lt;/td&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">  &lt;td
                        align="center"&gt;{add}{remove}&lt;/td&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">  &lt;td
                        valign="top"&gt;{selected}&lt;/td&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">&lt;/tr&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">&lt;/table&gt;</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="st0">'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$ams</span>-&gt;<span class=
                        "me1">setElementTemplate</span><span class=
                        "br0">(</span><span class=
                        "re0">$deftpl</span><span class="br0">)</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="co1">//...</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">?&gt;</span>
                      </div>
                    </li>
                  </ol>
                </div>
              </td>
            </tr>
            <tr class="qandadiv">
              <td align="left" valign="top" colspan="2">
                <h3 class="title">
                  <a name="id4781234" id="id4781234"></a>2.3. Troubleshooting
                  guide
                </h3>
              </td>
            </tr>
            <tr class="toc">
              <td align="left" valign="top" colspan="2">
                <dl>
                  <dt>
                    2.3.1. <a href="ch02.html#id4781239">My Quickform
                    advmultiselect element is not displayed on my browser
                    window.</a>
                  </dt>
                  <dt>
                    2.3.2. <a href="ch02.html#id4781300">My live counter is not
                    updated with a single select list, when I click on
                    checkboxes ?</a>
                  </dt>
                  <dt>
                    2.3.3. <a href="ch02.html#id4781349">The selected list has
                    one blank entry that you can move to available list</a>
                  </dt>
                </dl>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4781239" id="id4781239"></a><a name="id4781241" id=
                "id4781241"></a><b>2.3.1.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  My Quickform advmultiselect element is not displayed on my
                  browser window.
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  You should have forgotten to add package ressource itself.
                  This operation is mandatory for all external Quickform
                  elements and not necessary for internal elements such as
                  "radio", "checkbox", "text", "button", ...
                </p>
                <div class="php c3">
                  <ol>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">&lt;?php</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw1">require_once</span> <span class=
                        "st0">'HTML/QuickForm.php'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw1">require_once</span> <span class=
                        "st0">'HTML/QuickForm/advmultiselect.php'</span>;&nbsp;
                        <span class="co1">// &lt;-- DO NOT forget it</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">?&gt;</span>
                      </div>
                    </li>
                  </ol>
                </div>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4781300" id="id4781300"></a><a name="id4781302" id=
                "id4781302"></a><b>2.3.2.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  My live counter is not updated with a single select list,
                  when I click on checkboxes ?
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  With HTML_QuickForm_advmultiselect version 1.3.0 or better
                  you need to add a chunk of javascript code to initialize
                  onclick event handler of each checkboxes.
                </p>
                <pre class="html4strict">
      
&lt;script type="text/javascript" src="qfamsHandler.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
window.qfamsName = new Array();
window.qfamsName[0] = 'cars';
window.qfamsName[1] = 'fruit';
window.addEventListener('load', qfamsInit, false);
&lt;/script&gt;
      
     
</pre>
                <p>
                  <code class="literal">window.qfamsName</code> is an array
                  what identify each advmultiselect element used on your html
                  page.
                </p>
              </td>
            </tr>
            <tr class="question">
              <td align="left" valign="top">
                <a name="id4781349" id="id4781349"></a><a name="id4781351" id=
                "id4781351"></a><b>2.3.3.</b>
              </td>
              <td align="left" valign="top">
                <p>
                  The selected list has one blank entry that you can move to
                  available list
                </p>
              </td>
            </tr>
            <tr class="answer">
              <td align="left" valign="top"></td>
              <td align="left" valign="top">
                <p>
                  This problem comes when you set the selected list (see
                  HTML_QuickForm::setDefaults() method) with a wrong data
                  array.
                </p>
                <p>
                  Remember that the available list contains all datas (selected
                  and unselected values). This list is an associative array of
                  "key-code" =&gt; "display-value". While selected list is only
                  an array of "key-code".
                </p>
                <p>
                  Suppose we have to retrieve information from a database (with
                  PEAR::DB), and have a simple table for holding user info.
                  This SQL statement creates a table usable under the default
                  database scheme using MySQL:
                </p>
                <pre class="sql">
CREATE TABLE user (
   userid VARCHAR(5) NOT NULL,
   gid INT NOT NULL,
   affect INT NOT NULL,
   lastname VARCHAR(50)NOT NULL,
   firstname VARCHAR(50) NOT NULL,
   PRIMARY KEY (userid)
);
     
</pre>
                <p>
                  with values :
                </p>
                <pre class="sql">
INSERT INTO user VALUES ('MJ001', 1, 0, 'Martin', 'Jansen');
INSERT INTO user VALUES ('BG001', 1, 1, 'Greg', 'Beaver');
INSERT INTO user VALUES ('CD001', 1, 0, 'Daniel', 'Convissor');
INSERT INTO user VALUES ('LL001', 2, 1, 'Laurent', 'Laville');
     
</pre>
                <p>
                  Column <span class="emphasis"><em>gid</em></span> identify a
                  user group, while <span class=
                  "emphasis"><em>userid</em></span> identify a single and
                  unique user.
                </p>
                <p>
                  We will initialize AVAILABLE list (on left side if default
                  template) by a db query something like that:
                </p>
                <div class="php c3">
                  <ol>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">&lt;?php</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$queryAll</span> = <span class=
                        "st0">'SELECT userid, CONCAT(lastname, " ", firstname)
                        AS useridentity '</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                                  . <span class="st0">'FROM user WHERE gid =
                        1'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">?&gt;</span>
                      </div>
                    </li>
                  </ol>
                </div>
                <p>
                  and get this array:
                </p>
                <pre class="programlisting">
Array
(
    [MJ001] =&gt; Jansen Martin
    [BG001] =&gt; Beaver Greg
    [CD001] =&gt; Convissor Daniel
)
     
</pre>
                <p>
                  We will initialize SELECTED list (on right side if default
                  template) by a db query something like that:
                </p>
                <div class="php c3">
                  <ol>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">&lt;?php</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="co1">// Once you have a valid DataBase
                        object named $db ...</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$querySel</span> = <span class=
                        "st0">'SELECT userid FROM user WHERE gid = 1 AND affect
                        = 1'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$affected_user</span> =&amp;
                        <span class="re0">$db</span>-&gt;<span class=
                        "me1">getCol</span><span class=
                        "br0">(</span><span class=
                        "re0">$querySel</span><span class="br0">)</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">?&gt;</span>
                      </div>
                    </li>
                  </ol>
                </div>
                <p>
                  and get this array:
                </p>
                <pre class="programlisting">
Array
(
    [0] =&gt; BG001
)
     
</pre>
                <div class="caution c2">
                  <table border="0" summary="Caution">
                    <tr>
                      <td rowspan="2" align="center" valign="top" width="48">
                        <img alt="[Caution]" src="img/admons/caution.png" />
                      </td>
                      <th align="left">
                        Caution
                      </th>
                    </tr>
                    <tr>
                      <td align="left" valign="top">
                        Remember that only a key-code array is necessary, other
                        data will make blank line into select box.
                      </td>
                    </tr>
                  </table>
                </div>
                <p>
                  Remains stuff is basic, create the QFAMS element, and load
                  options (available and selected) with the QF/select element
                  <code class="methodname">load()</code> method.
                </p>
                <div class="php c3">
                  <ol>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">&lt;?php</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw1">require_once</span> <span class=
                        "st0">'HTML/QuickForm.php'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw1">require_once</span> <span class=
                        "st0">'HTML/QuickForm/advmultiselect.php'</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$form</span> = <span class=
                        "kw2">new</span> HTML_QuickForm<span class=
                        "br0">(</span><span class=
                        "st0">'amsDB'</span><span class="br0">)</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="co1">// Once you have a valid QuickForm
                        advmultiselect object named $ams in a QuickForm named
                        $form ...</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$ams</span> =&amp; <span class=
                        "re0">$form</span>-&gt;<span class=
                        "me1">addElement</span><span class=
                        "br0">(</span><span class=
                        "st0">'advmultiselect'</span>, <span class=
                        "st0">'user'</span>,
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                            <span class="kw3">array</span><span class=
                        "br0">(</span><span class="st0">'Users:'</span>,
                        <span class="st0">'Available'</span>, <span class=
                        "st0">'Affected'</span><span class="br0">)</span>,     
                         <span class="co1">// labels</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                            <span class="kw2">null</span>,                     
                                             <span class="co1">// datas:
                        "key-code" =&gt; "display-value"</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                            <span class="kw3">array</span><span class=
                        "br0">(</span><span class="st0">'style'</span> =&gt;
                        <span class="st0">'width:200px;'</span><span class=
                        "br0">)</span>                <span class="co1">//
                        custom layout</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="br0">)</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="re0">$ams</span>-&gt;<span class=
                        "me1">load</span><span class="br0">(</span><span class=
                        "re0">$db</span>, <span class="re0">$queryAll</span>,
                        <span class="st0">'useridentity'</span>, <span class=
                        "st0">'userid'</span>, <span class=
                        "re0">$affected_user</span><span class="br0">)</span>;
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                         
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="co1">// ...</span>
                      </div>
                    </li>
                    <li class="li1">
                      <div class="de1">
                        <span class="kw2">?&gt;</span>
                      </div>
                    </li>
                  </ol>
                </div>
                <div class="tip c2">
                  <table border="0" summary="Tip">
                    <tr>
                      <td rowspan="2" align="center" valign="top" width="48">
                        <img alt="[Tip]" src="img/admons/tip.png" />
                      </td>
                      <th align="left">
                        Tip
                      </th>
                    </tr>
                    <tr>
                      <td align="left" valign="top">
                        You may use the <code class="methodname">load()</code>
                        method to set options from :
                        <div class="php c3">
                          <ol>
                            <li class="li1">
                              <div class="de1">
                                <span class="kw2">&lt;?php</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="co1">// ...</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                 
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="co1">// 1. a php array</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$all_user</span> =
                                <span class="kw3">array</span><span class=
                                "br0">(</span><span class="st0">'MJ001'</span>
                                =&gt; <span class="st0">'Martin Jansen'</span>,
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                                  <span class=
                                "st0">'BG001'</span> =&gt; <span class=
                                "st0">'Greg Beaver'</span>,
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                                  <span class=
                                "st0">'CD001'</span> =&gt; <span class=
                                "st0">'Daniel Convissor'</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="br0">)</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$affected_user</span> =
                                <span class="kw3">array</span><span class=
                                "br0">(</span><span class=
                                "st0">'BG001'</span><span class="br0">)</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$ams</span>-&gt;<span class=
                                "me1">load</span><span class=
                                "br0">(</span><span class=
                                "re0">$all_user</span>, <span class=
                                "re0">$affected_user</span><span class=
                                "br0">)</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                 
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="co1">// queries to get data</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$queryAll</span> =
                                <span class="st0">'SELECT userid,
                                CONCAT(lastname, " ", firstname) AS
                                useridentity '</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                          . <span class="st0">'FROM user WHERE
                                gid = 1'</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                 
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$querySel</span> =
                                <span class="st0">'SELECT userid FROM user
                                WHERE gid = 1 AND affect = 1'</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$affected_user</span> =&amp;
                                <span class="re0">$db</span>-&gt;<span class=
                                "me1">getCol</span><span class=
                                "br0">(</span><span class=
                                "re0">$querySel</span><span class=
                                "br0">)</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                 
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="co1">// 2. a db result</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$all_user</span> =&amp;
                                <span class="re0">$db</span>-&gt;<span class=
                                "me1">query</span><span class=
                                "br0">(</span><span class=
                                "re0">$queryAll</span><span class=
                                "br0">)</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$ams</span>-&gt;<span class=
                                "me1">load</span><span class=
                                "br0">(</span><span class=
                                "re0">$all_user</span>, <span class=
                                "st0">'useridentity'</span>, <span class=
                                "st0">'userid'</span>, <span class=
                                "re0">$affected_user</span><span class=
                                "br0">)</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                 
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="co1">// 3. a db query</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="re0">$ams</span>-&gt;<span class=
                                "me1">load</span><span class=
                                "br0">(</span><span class="re0">$db</span>,
                                <span class="re0">$queryAll</span>,
                                <span class="st0">'useridentity'</span>,
                                <span class="st0">'userid'</span>, <span class=
                                "re0">$affected_user</span><span class=
                                "br0">)</span>;
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                 
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="co1">// ...</span>
                              </div>
                            </li>
                            <li class="li1">
                              <div class="de1">
                                <span class="kw2">?&gt;</span>
                              </div>
                            </li>
                          </ol>
                        </div>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="note c2">
                  <table border="0" summary="Note">
                    <tr>
                      <td rowspan="2" align="center" valign="top" width="48">
                        <img alt="[Note]" src="img/admons/note.png" />
                      </td>
                      <th align="left">
                        Note
                      </th>
                    </tr>
                    <tr>
                      <td align="left" valign="top">
                        This example is available in bundle (see
                        examples/qfams_basic_2.php)
                      </td>
                    </tr>
                  </table>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <table class="qfamsFooter">
      <tr>
        <td align="left">
          HTML_QuickForm_advmultiselect : The Definitive Guide
        </td>
        <td align="right">
          v 1.4.0 : 9 Juin 2007
        </td>
      </tr>
    </table>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left">
            <a accesskey="p" href="ch01s03.html">Prev</a>&nbsp;
          </td>
          <td width="20%" align="center">
            <a accesskey="u" href="pt01.html">Up</a>
          </td>
          <td width="40%" align="right">
            &nbsp;<a accesskey="n" href="ch03.html">Next</a>
          </td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">
            Why use HTML_QuickForm_advmultiselect ?&nbsp;
          </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top">
            &nbsp;Chapter&nbsp;3.&nbsp;What's New ?
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>